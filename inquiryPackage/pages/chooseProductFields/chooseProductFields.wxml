<view class="container">
  <view class="header">
    以下信息将显示在您对外发送的文档中，请仔细填写！
  </view>

  <!-- 必选字段区域 -->
  <view class="field-section">
   
    <view class="form">
      <view class="fieldCard" wx:for="{{requiredFields}}" wx:for-item="field" wx:key="code">
        <view style="display: flex; width: 100%; height: 100%; align-items: center;">
          <view class="blueSidebar">
            <view class="checkbox">✔</view>
          </view>
          <view class="fieldName" style="color: #23394D;">
            {{field.name}}
            <text class="required-tag">必选</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 可选字段区域 -->
  <view class="field-section">

    <view class="form">
      <view class="fieldCard" wx:for="{{optionalFields}}" wx:for-item="field" wx:key="code" 
            data-index="{{index}}" bind:tap="toggleField">
        <view wx:if="{{field.isSelected}}" style="display: flex; width: 100%; height: 100%; align-items: center;">
          <view class="blueSidebar">
            <view class="checkbox">✔</view>
          </view>
          <view class="fieldName" style="color: #23394D;">
            {{field.name}}
          </view>
        </view>
        <view wx:if="{{!field.isSelected}}" style="display: flex; width: 100%; height: 100%; align-items: center;">
          <view class="graySidebar">
            <view class="checkbox"></view>
          </view>
          <view class="fieldName" style="color: gray;">
            {{field.name}}
          </view>
        </view>
      </view>
    </view>
  </view>

  <view class="buttonGroup">
    <view class="cancelButton" bind:tap="cancel">
      取消
    </view>
    <view class="confirmButton" bind:tap="confirm">
      确定
    </view>
  </view>
</view>