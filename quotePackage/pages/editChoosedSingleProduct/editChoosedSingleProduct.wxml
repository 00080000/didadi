<view class="container">
  <view class="title">编辑商品</view>

  <!-- 商品基本信息（不可编辑） -->
  <view class="info-section">
    <view class="section-title">基本信息</view>
    <view class="info-item">
      <view class="label">商品名称</view>
      <view class="value">{{item.name}}</view>
    </view>
    <view class="info-item">
      <view class="label">商品编码</view>
      <view class="value">{{item.productCode || item.productId}}</view>
    </view>
  </view>

  <!-- 可编辑字段区域 -->
  <view class="edit-section">
    <view class="section-title">编辑信息</view>
    
    <!-- 动态生成的可编辑字段 -->
    <view class="form-item" wx:for="{{editableFields}}" wx:key="code">
      <view class="form-label">{{item.label}}</view>
      <view class="form-input">
        <input 
          wx:if="{{item.dataType !== 'textarea'}}"
          type="{{item.dataType === 'number' ? 'number' : 'text'}}"
          value="{{formData[item.code] || ''}}"
          bindinput="onInputChange"
          data-field="{{item.code}}"
          placeholder="请输入{{item.label}}"
        />
        <textarea 
          wx:else
          value="{{formData[item.code] || ''}}"
          bindinput="onInputChange"
          data-field="{{item.code}}"
          placeholder="请输入{{item.label}}"
        />
      </view>
    </view>

    <!-- 固定显示的数量字段 -->
    <view class="form-item">
      <view class="form-label">数量</view>
      <view class="form-input">
        <input 
          type="number" 
          value="{{formData.number}}" 
          bindinput="onInputChange" 
          data-field="number"
          placeholder="请输入数量"
        />
      </view>
    </view>

    <!-- 固定显示的备注字段 -->
    <view class="form-item">
      <view class="form-label">备注</view>
      <view class="form-input">
        <textarea 
          value="{{formData.remark || ''}}" 
          bindinput="onInputChange" 
          data-field="remark"
          placeholder="请输入备注"
        />
      </view>
    </view>
  </view>

  <!-- 底部按钮 -->
  <view class="button-group">
    <view class="cancel-btn" bind:tap="cancel">取消</view>
    <view class="confirm-btn" bind:tap="confirm">确定</view>
  </view>
</view>
    