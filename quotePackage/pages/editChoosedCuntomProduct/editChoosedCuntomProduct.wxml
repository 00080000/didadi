<view class="container">
  <view class="title">编辑临时商品</view>

  <!-- 商品基本信息（不可编辑） -->
  <view class="info-section">
    <view class="section-title">基本信息</view>
    <view class="info-item">
      <view class="label">商品编码</view>
      <view class="value">{{formData.productCode}}</view>
    </view>
  </view>

  <!-- 可编辑字段区域 -->
  <view class="edit-section">
    <view class="section-title">编辑信息</view>
    
    <!-- 动态生成的可编辑字段 -->
    <view class="form-item" wx:for="{{editableFields}}" wx:key="code">
      <view class="form-label">{{item.label}} <text class="required" wx:if="{{item.required}}">*</text></view>
      <view class="form-input">
        <input 
          wx:if="{{item.dataType !== 'textarea'}}"
          type="{{item.dataType === 'number' ? 'number' : 'text'}}"
          value="{{formData[item.code] || ''}}"
          bindinput="onInputChange"
          data-field="{{item.code}}"
          placeholder="请输入{{item.label}}"
        />
        <textarea 
          wx:else
          value="{{formData[item.code] || ''}}"
          bindinput="onInputChange"
          data-field="{{item.code}}"
          placeholder="请输入{{item.label}}"
          auto-height
          style="min-height: 100rpx;"
        />
      </view>
    </view>

    <!-- 删除按钮 - 新增部分 -->
    <view class="form-item delete-button-container">
      <view class="form-label"></view>
      <view class="form-input">
        <view class="delete-btn" bind:tap="deleteProduct">
          删除商品
        </view>
      </view>
    </view>
  </view>

  <!-- 底部按钮 -->
  <view class="btn-group">
    <view class="cancel-btn" bind:tap="cancel">
      取消
    </view>
    <view class="save-btn" bind:tap="saveEditedProduct">
      确定
    </view>
  </view>
</view>
